(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(37),s=a.n(r),c=(a(49),a(7)),l=a(18),o=(a(50),a(6)),m=a.n(o),u=a(1),p=a(2),d=a(4),g=a(3),h=a(5),f=(a(52),a(64),a(16)),b=a.n(f),v=new(function(){function e(){Object(u.a)(this,e),this.auth=b.a.create({baseURL:"http://localhost:5000",withCredentials:!0})}return Object(p.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password,n=e.image;return this.auth.post("/auth/signup",{username:t,password:a,image:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}},{key:"imageUpload",value:function(e){return console.log(e),this.auth.post("/auth/signup/image",e).then((function(e){return e.data}))}}]),e}()),E=i.a.createContext(),w=E.Consumer,y=E.Provider,k=function(e){return function(t){function a(){return Object(u.a)(this,a),Object(d.a)(this,Object(g.a)(a).apply(this,arguments))}return Object(h.a)(a,t),Object(p.a)(a,[{key:"render",value:function(){var t=this;return i.a.createElement(w,null,(function(a){var n=a.login,r=a.signup,s=a.user,c=a.logout,l=a.isLoggedIn,o=a.isLoading;return i.a.createElement(e,Object.assign({login:n,signup:r,user:s,logout:c,isLoggedIn:l,isLoading:o},t.props))}))}}]),a}(i.a.Component)},j=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={isLoggedIn:!1,isLoading:!0,user:null},a.login=function(e){var t=e.username,n=e.password;v.login({username:t,password:n}).then((function(e){console.log("useeer: ",e),a.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},a.signup=function(e){var t=e.username,n=e.password,i=e.image;v.signup({username:t,password:n,image:i}).then((function(e){a.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},a.logout=function(){v.logout().then((function(){a.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.me().then((function(t){e.setState({isLoggedIn:!0,isLoading:!1,user:t})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedIn,n=e.user,r=this.login,s=this.signup,c=this.logout;return i.a.createElement("div",null,i.a.createElement(y,{value:{isLoading:t,isLoggedIn:a,user:n,login:r,signup:s,logout:c}},this.props.children))}}]),t}(n.Component),O=(a(82),k(function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={profilePic:""},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.isLoggedIn,r=t.view;return i.a.createElement("div",{className:"navbar"},n?i.a.createElement("ul",null,"home"===r?i.a.createElement("li",null):i.a.createElement("li",null,i.a.createElement("img",{onClick:function(){return e.props.history.goBack()},src:"https://img.icons8.com/metro/52/000000/back.png",alt:""})),"home"===r?i.a.createElement("li",{style:{listStyleType:"none"}},i.a.createElement(c.b,{to:"/",className:"navbar-link"},i.a.createElement("h1",{onClick:this.props.getHomePaintings},"Paintapop"))):i.a.createElement("li",{style:{listStyleType:"none"}},i.a.createElement(c.b,{to:"/"},"Paintapop")),i.a.createElement("li",{style:{listStyleType:"none"}},i.a.createElement(c.b,{to:"/profile/".concat(a._id),className:"navbar-link"},i.a.createElement("img",{src:a.image,alt:"",id:"navbar-profile-img"})))):i.a.createElement("ul",null,"home"===r?i.a.createElement("li",null):i.a.createElement("li",null,i.a.createElement("img",{onClick:function(){return e.props.history.goBack()},src:"https://img.icons8.com/metro/52/000000/back.png",alt:""})),i.a.createElement("li",{style:{listStyleType:"none"}},i.a.createElement(c.b,{to:"/",id:"navbar-title",className:"navbar-link"},i.a.createElement("h3",null,"Paintapop"))),i.a.createElement("li",{style:{listStyleType:"none"}},i.a.createElement(c.b,{to:"/login",className:"navbar-link"},"Log In")),i.a.createElement("li",{style:{listStyleType:"none"}},i.a.createElement(c.b,{to:"/signup",className:"navbar-link"},"Sign up"))))}}]),t}(i.a.Component))),N=(a(87),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).getFilteredPaintings=function(){var e=document.querySelector(".explore-searchbar");a.props.getFilteredPaintings("?title=".concat(e.value))},a.getSortedPaintings=function(){var e,t=document.querySelector(".select"),n=t.options[t.selectedIndex].value;"Most liked"===n?e="?sort=most-liked":"Most seen"===n?e="?sort=most-seen":"Newest"===n?e="?sort=newest":"Oldest"===n&&(e="?sort=oldest"),a.props.history.push(e),setTimeout((function(){return a.props.getFilteredPaintings()}),50)},a.state={},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"exploreBar"},i.a.createElement("div",null,i.a.createElement("span",null,"Sort by:"),i.a.createElement("select",{name:"",id:"",className:"select",onClick:this.getSortedPaintings},i.a.createElement("option",{defaultValue:!0},"Oldest"),i.a.createElement("option",null,"Newest"),i.a.createElement("option",null,"Most liked"),i.a.createElement("option",null,"Most seen"))),i.a.createElement("div",null,i.a.createElement("input",{className:"explore-searchbar",onChange:this.getFilteredPaintings,type:"text",placeholder:"Search by title"}),i.a.createElement("img",{onMouseOver:function(){return e.getFilteredPaintings},onMouseOut:this.getFilteredPaintings,onClick:function(){e.getFilteredPaintings()},id:"search-magnifying-glass",src:"https://img.icons8.com/ios-glyphs/60/000000/search.png",alt:""})))}}]),t}(n.Component)),x=new(function(){function e(){Object(u.a)(this,e),this.users=b.a.create({baseURL:"http://localhost:5000/users",withCredentials:!0})}return Object(p.a)(e,[{key:"getUser",value:function(e){return this.users.get("/".concat(e)).then((function(e){return e.data.password="*",e.data}))}},{key:"handleLike",value:function(e){return this.users.patch(e).then((function(e){return e.data.password="*",e.data}))}},{key:"addSeen",value:function(e){return this.users.patch("/add-seen/".concat(e)).then((function(e){return e.data.password="*",e.data}))}},{key:"getUserChatRooms",value:function(e){return this.users.get("/chatrooms/".concat(e)).then((function(e){return console.log(e.data),e.data}))}}]),e}()),C=a(9),S=a.n(C),_=(a(96),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.view,a=e.className,n="https://retchhh.files.wordpress.com/2015/03/loading1.gif?w=300&h=300";return i.a.createElement("span",null,"signup"===t?i.a.createElement("img",{src:n,className:a,alt:""}):i.a.createElement("img",{src:n,alt:""}))}}]),t}(n.Component)),L=new(function(){function e(){Object(u.a)(this,e),this.paintings=b.a.create({baseURL:"http://localhost:5000/paintings",withCredentials:!0})}return Object(p.a)(e,[{key:"imageUpload",value:function(e){return this.paintings.post("/image",e).then((function(e){return e.data}))}},{key:"getDetails",value:function(e){return this.paintings.get("/".concat(e)).then((function(e){return e.data}))}},{key:"getHomePaintings",value:function(){return this.paintings.get("/home").then((function(e){return e.data}))}},{key:"postPainting",value:function(e){return this.paintings.post("/",e).then((function(e){return e.data}))}},{key:"delete",value:function(e){return this.paintings.delete("/".concat(e))}},{key:"getFilteredPaintings",value:function(e){return console.log(e.sort),this.paintings.get("/".concat(e))}},{key:"updatePaintingByPut",value:function(e){return this.paintings.put("/".concat(e._id),e).then((function(e){return e.data}))}}]),e}()),I=a(40),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).componentWillReceiveProps=function(){a.setState({})},a.state={},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.view,a=e.src,n=e.className;return i.a.createElement("span",null,a?"display"===t?a.includes("sketchfab.com")?i.a.createElement("div",{className:"sketchfab-embed-wrapper"},i.a.createElement("iframe",{style:{width:"200vw",margin:"0 0 2vh"},title:"A 3D model",width:"640",height:"480",src:a,frameBorder:"0",allow:"autoplay; fullscreen; vr",mozallowfullscreen:"true",webkitallowfullscreen:"true"})):i.a.createElement(I.a,{src:a,mgTouchOffsetY:"100",mgTouchOffsetX:"0",className:n,height:"50vh",width:"90vw"}):"home"===t?a.includes("sketchfab.com")?i.a.createElement("div",{className:"sketchfab-embed-wrapper",style:{width:"100%",height:"22vh",paddingBottom:"0",marginBottom:"0"}},i.a.createElement("iframe",{style:{width:"100%",height:"22vh",paddingBottom:"0",marginBottom:"0"},title:"A 3D model",width:"640",height:"480",src:a,frameBorder:"0",allow:"autoplay; fullscreen; vr",mozallowfullscreen:"true",webkitallowfullscreen:"true"})):i.a.createElement("img",{className:n,src:a,alt:""}):"profile"===t?a.includes("sketchfab.com")?i.a.createElement("div",{class:"sketchfab-embed-wrapper",style:{width:"100%",height:"22vh",maxHeight:"20vh",paddingBottom:"0",marginBottom:"0"}},i.a.createElement("iframe",{style:{width:"20vh",height:"22vh",maxHeight:"20vh",paddingBottom:"0",marginBottom:"0"},title:"A 3D model",width:"640",height:"480",src:a,frameBorder:"0",allow:"autoplay; fullscreen; vr",mozallowfullscreen:"true",webkitallowfullscreen:"true"})):i.a.createElement("img",{className:n,src:a,alt:""}):"edit"===t?a.includes("sketchfab.com")?i.a.createElement("div",{style:{width:"88vw",height:"32vh",paddingBottom:"0",marginBottom:"2vh"}},i.a.createElement("iframe",{style:{width:"100%",height:"32vh",paddingBottom:"0"},title:"A 3D model",width:"640",height:"480",src:a,frameBorder:"0",allow:"autoplay; fullscreen; vr",mozallowfullscreen:"true",webkitallowfullscreen:"true"})):i.a.createElement("img",{className:n,src:a,alt:""}):null:i.a.createElement(_,null))}}]),t}(n.Component),T="https://img.icons8.com/ios/50/000000/christmas-star.png",M="https://img.icons8.com/color/100/000000/filled-star.png",D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector("#navbar-title")&&document.querySelector("#navbar-title").addEventListener("click",(function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,m.a.awrap(L.getHomePaintings());case 3:e.t1=e.sent,e.t2={paintings:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}))}));case 2:case"end":return e.stop()}}))},a.handleLikeAndToggleImageSource=function(e){if(e.target.src===T){e.target.setAttribute("src",M),e.target.classList.remove("emptyStar"),e.target.classList.add("filledStar");var t=a.props.user,n=e.target.alt;a.props.handleLike("/handle-like/like/".concat(t._id,"/").concat(n))}else{e.target.setAttribute("src",T),e.target.classList.remove("filledStar"),e.target.classList.add("emptyStar");var i=a.props.user,r=e.target.alt;a.props.handleLike("/handle-like/unlike/".concat(i._id,"/").concat(r))}},a.state={paintings:e.paintings},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({paintings:e.paintings})}},{key:"addSeen",value:function(e){x.addSeen(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"painting-list-div"},this.state.paintings?this.state.paintings.length?this.state.paintings.map((function(t,a){return i.a.createElement("div",{key:S.a.generate(),className:"painting-list-item"},e.props.user?t.usersWhoLiked.includes(e.props.user._id)?i.a.createElement("img",{className:"filledStar",onClick:e.handleLikeAndToggleImageSource,src:M,alt:t._id}):i.a.createElement("img",{onClick:e.handleLikeAndToggleImageSource,className:"emptyStar",src:T,alt:t._id}):null,i.a.createElement(c.b,{onClick:function(){return e.addSeen(t._id)},to:"/painting/".concat(t._id)},i.a.createElement(P,{src:t.image,view:"home",className:"home-list-img"})),i.a.createElement("div",{className:"img-info"},i.a.createElement(c.b,{onClick:function(){return e.addSeen(t._id)},to:"/painting/".concat(t._id)},i.a.createElement("p",{className:"list-title"},t.title))))})):i.a.createElement("h1",null,"No paintings"):i.a.createElement(_,null))}}]),t}(n.Component),U=k(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).getHomePaintings=function(){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(L.getHomePaintings());case 2:t=a.sent,e.setState({paintings:t});case 4:case"end":return a.stop()}}))},e.getFilteredPaintings=function(t){var a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}return n.next=3,m.a.awrap(L.getFilteredPaintings(t));case 3:a=n.sent,n.next=10;break;case 6:if(!e.props.location.search){n.next=10;break}return n.next=9,m.a.awrap(L.getFilteredPaintings(e.props.location.search));case 9:a=n.sent;case 10:a&&e.setState({paintings:a.data});case 11:case"end":return n.stop()}}))},e.componentDidMount=function(){var t=e.props.location.search;0===Object.keys(t).length?e.getHomePaintings():e.getFilteredPaintings(t.sort)},e.handleLike=function(e){x.handleLike(e)},e.state={paintings:null},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.isLoggedIn;return i.a.createElement("div",null,i.a.createElement(O,{view:"home",getHomePaintings:this.getHomePaintings}),i.a.createElement(N,Object.assign({},this.props,{getSortedPaintings:this.getSortedPaintings,getFilteredPaintings:this.getFilteredPaintings})),this.state.paintings?i.a.createElement(D,{user:t,paintings:this.state.paintings,handleLike:this.handleLike}):null,a?i.a.createElement("div",null,i.a.createElement(c.b,{to:"/chats/".concat(t._id),className:"chats-link"},i.a.createElement("img",{src:"https://img.icons8.com/flat_round/64/000000/speech-bubble.png",alt:""})),i.a.createElement(c.b,{to:"/paintings/add",className:"add-link"},i.a.createElement("img",{src:"https://img.icons8.com/material/96/000000/add.png",alt:""}))):null)}}]),t}(i.a.Component)),A=a(17),F=(a(97),k(function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,i=t.password;a.props.login({username:n,password:i}),console.log("Login -> form submit",{username:n,password:i})},a.handleChange=function(e){var t=e.target,n=t.name,i=t.value;a.setState(Object(A.a)({},n,i))},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password;return i.a.createElement("div",{className:"login"},i.a.createElement("img",{id:"auth-back",onClick:function(){return e.props.history.push("/")},src:"https://img.icons8.com/metro/52/000000/back.png",alt:""}),i.a.createElement("h1",null,"Login"),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("label",null,"Username:"),i.a.createElement("input",{type:"text",name:"username",value:a,onChange:this.handleChange}),i.a.createElement("label",null,"Password:"),i.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),i.a.createElement("input",{type:"submit",id:"login-btn",className:"yellowbutton",value:"Login"})),i.a.createElement("p",null,"Don't have an account? ",i.a.createElement(c.b,{to:"/signup"},"Sign up")))}}]),t}(n.Component))),B=(a(98),a(19)),q=a.n(B),W=Math.floor(Math.random()*q.a.length),H=k(function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={username:"",password:"",image:null,imageLoaded:!0},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,i=t.password,r=t.image;a.props.signup({username:n,password:i,image:r})},a.handleChange=function(e){var t=e.target,n=t.name,i=t.value;a.setState(Object(A.a)({},n,i))},a.fileChange=function(e){a.setState({imageLoaded:!1});var t=e.target.files[0],n=new FormData;n.append("photo",t),v.imageUpload(n).then((function(e){a.setState({image:e}),a.setState({imageLoaded:!0})})).catch((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"changeImage",value:function(e){switch(e){case"to_previous":--W<1&&(W=q.a.length-1);break;case"to_next":++W>q.a.length-1&&(W=1)}this.setState({image:q.a[W]})}},{key:"componentDidMount",value:function(){this.setState({image:q.a[W]})}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password;return i.a.createElement("div",{className:"signup"},i.a.createElement("div",{className:"signup-backgound"}),i.a.createElement("img",{id:"auth-back",onClick:function(){return e.props.history.push("/")},src:"https://img.icons8.com/metro/52/000000/back.png",alt:""}),i.a.createElement("h1",null,"Welcome!!"),this.state.image?i.a.createElement("div",null,i.a.createElement("img",{id:"signup-back-arrow",src:"https://img.icons8.com/material-two-tone/96/000000/back.png",alt:"",onClick:function(){return e.changeImage("to_previous")}}),this.state.imageLoaded?i.a.createElement("img",{className:"signup-profile-img",src:this.state.image,alt:""}):i.a.createElement(_,{view:"signup",className:"signup-profile-img loading-profile-img"}),i.a.createElement("img",{id:"signup-next-arrow",src:"https://img.icons8.com/material/96/000000/forward--v1.png",alt:"",onClick:function(){return e.changeImage("to_next")}})):null,i.a.createElement("p",null,"Please, fill in the fields below:"),i.a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0,encType:"multipart/form-data"},i.a.createElement("input",{type:"text",name:"username",value:a,className:"signup-input",placeholder:"Your username",onChange:this.handleChange}),i.a.createElement("input",{type:"password",name:"password",placeholder:"Your password",className:"signup-input",value:n,onChange:this.handleChange}),i.a.createElement("input",{type:"file",name:"image",onChange:function(t){return e.fileChange(t)},id:"file"}),i.a.createElement("label",{htmlFor:"file",className:"btn-3"},i.a.createElement("span",null,"Upload an image")),i.a.createElement("br",null),this.state.imageLoaded?i.a.createElement("input",{type:"submit",value:"Signup",className:"signup-btn yellowbutton"}):i.a.createElement("input",{type:"button",value:"Signup",className:"signup-btn yellowbutton"})),i.a.createElement("p",null,"Already have account? ",i.a.createElement(c.b,{to:"/login"}," Log In")))}}]),t}(n.Component)),J=(a(99),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){a.refreshProfile(),document.querySelector("#navbar-profile-img")&&document.querySelector("#navbar-profile-img").addEventListener("click",(function(){return a.refreshProfile()}))},a.refreshProfile=function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(x.getUser(a.props.match.params.userId));case 2:e=t.sent,a.setState({user:e});case 4:case"end":return t.stop()}}))}),50);case 1:case"end":return e.stop()}}))},a.deleteMe=function(e){L.delete(e),setTimeout((function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(x.getUser(a.props.user._id));case 2:e=t.sent,a.setState({user:e});case 4:case"end":return t.stop()}}))}),50)},a.LogoutAndGoToSignup=function(){a.props.logout(),a.props.history.push("/signup")},a.state={user:{}},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.state.user?i.a.createElement("div",{key:S.a.generate(),className:"profile-info"},this.props.user?i.a.createElement("span",null,this.props.user._id!==this.state.user._id?null:i.a.createElement("button",{className:"redbutton logout-button",onClick:this.LogoutAndGoToSignup},"LOGOUT")):null,this.state.user.paintings?this.state.user.paintings[0]?i.a.createElement("div",null,this.props.user?this.props.user._id!==this.state.user._id?i.a.createElement("h1",null,this.state.user.username,"'s paintings"):i.a.createElement("h1",null,"Your paintings"):i.a.createElement("h1",{id:"details-title-not-user"},this.state.user.username,"'s paintings"),i.a.createElement("ul",{className:"profile-paintings-wrapper"},this.state.user.paintings.map((function(t){return i.a.createElement("div",{key:S.a.generate(),className:"profile-painting"},i.a.createElement(c.b,{to:"/painting/".concat(t._id)},i.a.createElement(P,{src:t.image,view:"profile"})),i.a.createElement("div",null,e.props.user?e.props.user._id!==e.state.user._id?i.a.createElement(c.b,{to:"/painting/".concat(t._id)},i.a.createElement("p",{className:"other-profile-painting-title"},t.title)):i.a.createElement(c.b,{to:"/painting/".concat(t._id)},i.a.createElement("p",{className:"my-profile-painting-title"},t.title)):i.a.createElement(c.b,{to:"/painting/".concat(t._id)},i.a.createElement("p",{className:"other-profile-painting-title"},t.title)),i.a.createElement("p",null,t.description),i.a.createElement("div",null,e.props.user?e.props.user._id!==e.state.user._id?null:i.a.createElement("div",null,i.a.createElement("button",{className:"redbutton",onClick:function(){e.deleteMe(t._id)}},"DELETE"),i.a.createElement("span",null,i.a.createElement(c.b,{to:"/painting/edit/".concat(t._id)},i.a.createElement("button",{className:"yellowbutton"},"EDIT")))):null)))})))):i.a.createElement("h1",null,"You don't have any painting yet :("):i.a.createElement("h1",null,this.state.user.username," has no paintings")):i.a.createElement(_,null))}}]),t}(n.Component)),z=k(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logout;return i.a.createElement("div",null,i.a.createElement(O,Object.assign({},this.props,{refresh:this.refresh})),t?i.a.createElement(J,Object.assign({user:t._id,logout:a},this.props)):i.a.createElement(J,this.props))}}]),t}(i.a.Component)),Y=(a(100),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).changeClassName=function(){"hidden"===a.state.className?a.setState({className:"add-tag-delete-img"}):a.setState({className:"hidden"})},a.state={className:"hidden"},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"one-tag-wrapper"},"add-form"===this.props.view?i.a.createElement("span",{onMouseOut:this.changeClassName,onMouseOver:this.changeClassName,className:"add-displayed-tag"},this.props.text,i.a.createElement("img",{onClick:this.props.deleteTag,className:this.state.className,src:"https://www.pngix.com/pngfile/big/90-905356_close-svg-png-icon-free-download-icone-x.png",alt:""})):i.a.createElement("span",{className:"add-displayed-tag"},this.props.text))}}]),t}(n.Component)),Z=k(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(L.getDetails(a.state.paintingId));case 2:e=t.sent,a.setState({paintingDetails:e});case 4:case"end":return t.stop()}}))}),50);case 1:case"end":return e.stop()}}))},a.timeSince=function(e){var t=Math.floor((new Date-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" years":(a=Math.floor(t/2592e3))>1?a+" months":(a=Math.floor(t/86400))>1?a+" days":(a=Math.floor(t/3600))>1?a+" hours":(a=Math.floor(t/60))>1?a+" minutes":Math.floor(t)+" seconds"},a.handleLikeAndToggleImageSource=function(e){var t="https://img.icons8.com/ios/50/000000/christmas-star.png";if(e.target.src===t){e.target.setAttribute("src","https://img.icons8.com/color/100/000000/filled-star.png"),e.target.classList.remove("details-emptyStar"),e.target.classList.add("details-filledStar");var n=a.props.user,i=e.target.alt;x.handleLike("/handle-like/like/".concat(n._id,"/").concat(i)),document.querySelector("#likes-qty").innerHTML=parseInt(document.querySelector("#likes-qty").innerHTML)+1}else{e.target.setAttribute("src",t),e.target.classList.remove("details-filledStar"),e.target.classList.add("details-emptyStar");var r=a.props.user,s=e.target.alt;x.handleLike("/handle-like/unlike/".concat(r._id,"/").concat(s)),document.querySelector("#likes-qty").innerHTML=parseInt(document.querySelector("#likes-qty").innerHTML)-1}},a.state={paintingId:e.paintingId,paintingDetails:{}},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.isLoggedIn,n=this.state.paintingDetails,r=n.image,s=n.title,l=n.description,o=n.creator,m=n.creatorUsername,u=n.timesSeen,p=n.usersWhoLiked,d=n.tags,g=n.created_at,h=n.game,f=this.state.paintingDetails._id;return i.a.createElement("div",{className:"details-div"},this.state.paintingDetails?a?i.a.createElement("div",null,i.a.createElement(P,{src:r,view:"display",className:"edit-main-img"}),i.a.createElement("div",null,i.a.createElement("div",{className:"details-view-info"},i.a.createElement("div",null,i.a.createElement("img",{className:"edit-seenTimes",src:"https://img.icons8.com/material-rounded/96/000000/visible.png",alt:""}),i.a.createElement("span",null,u)),this.props.user&&p?p.includes(t._id)?i.a.createElement("div",null,i.a.createElement("img",{className:"details-filledStar",onClick:this.handleLikeAndToggleImageSource,src:"https://img.icons8.com/color/100/000000/filled-star.png",alt:f}),i.a.createElement("span",{id:"likes-qty"},p.length)):i.a.createElement("div",null,i.a.createElement("img",{onClick:this.handleLikeAndToggleImageSource,className:"details-emptyStar",src:"https://img.icons8.com/ios/50/000000/christmas-star.png",alt:f}),i.a.createElement("span",{id:"likes-qty"},p.length)):null,i.a.createElement("span",{className:"details-game"},i.a.createElement(c.b,{to:"/?game=".concat(h)},h)))),t?t._id===o?i.a.createElement("div",{className:"details-title-wrapper"},i.a.createElement("p",{className:"details-title"},s),i.a.createElement("span",null,i.a.createElement(c.b,{to:"/painting/edit/".concat(this.state.paintingDetails._id)},i.a.createElement("img",{src:"https://img.icons8.com/dusk/512/000000/edit.png",alt:""})))):i.a.createElement("div",{className:"details-title-wrapper"},i.a.createElement("p",{className:"details-title"},s)):null,l?i.a.createElement("p",{className:"details-description"},l):null,i.a.createElement("div",{className:"details-tags-wrapper"},d?d.map((function(e){return i.a.createElement(c.b,{key:S.a.generate(),to:"/?tag=".concat(e)},i.a.createElement(Y,{text:e}))})):null),i.a.createElement("div",{className:"detail-creator-info-div"},i.a.createElement("p",null,"By: ",i.a.createElement(c.b,{to:"/profile/".concat(o)},m)),t&&t._id!==o?i.a.createElement(c.b,{to:"/chat/".concat(o,"/").concat(t._id)},i.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/chat.png",alt:""})):null),i.a.createElement("div",{className:"creation-date"},i.a.createElement("p",null,"Created ",this.timeSince(Date.parse(g))+" ago."))):i.a.createElement("div",null,i.a.createElement(P,{src:r,view:"display",className:"edit-main-img"}),i.a.createElement("div",null,i.a.createElement("div",{className:"details-view-info"},i.a.createElement("div",null,i.a.createElement("img",{className:"edit-seenTimes",src:"https://img.icons8.com/material-rounded/96/000000/visible.png",alt:""}),i.a.createElement("span",null,u)),i.a.createElement("span",{style:{marginBottom:0}},p?i.a.createElement("div",null,i.a.createElement(c.b,{to:"/login"},i.a.createElement("img",{src:"https://img.icons8.com/ios/50/000000/christmas-star.png",alt:""})),i.a.createElement("span",null,p.length)):i.a.createElement(_,null)),this.props.user&&p?p.includes(t._id)?i.a.createElement("div",null,i.a.createElement("img",{className:"details-filledStar",onClick:this.handleLikeAndToggleImageSource,src:"https://img.icons8.com/color/100/000000/filled-star.png",alt:f}),i.a.createElement("span",{id:"likes-qty"},p.length)):i.a.createElement("div",null,i.a.createElement("img",{onClick:this.handleLikeAndToggleImageSource,className:"details-emptyStar",src:"https://img.icons8.com/ios/50/000000/christmas-star.png",alt:f}),i.a.createElement("span",{id:"likes-qty"},p.length)):null,i.a.createElement("span",{className:"details-game"},i.a.createElement(c.b,{to:"/?game=".concat(h)},h)))),i.a.createElement("div",{className:"details-title-wrapper"},i.a.createElement("p",{className:"details-title"},s)),l?i.a.createElement("p",{className:"details-description"},l):null,i.a.createElement("div",{className:"details-tags-wrapper"},d?d.map((function(e){return i.a.createElement(c.b,{key:S.a.generate(),to:"/?tag=".concat(e)},i.a.createElement(Y,{text:e}))})):null),i.a.createElement("div",{className:"detail-creator-info-div"},i.a.createElement("p",null,"By: ",i.a.createElement(c.b,{to:"/profile/".concat(o)},m)),t&&t._id!==o?i.a.createElement(c.b,{to:"/chat/".concat(o,"/").concat(t._id)},i.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/chat.png",alt:""})):null),i.a.createElement("div",{className:"creation-date"},i.a.createElement("p",null,"Created ",this.timeSince(Date.parse(g))+" ago."))):null)}}]),t}(n.Component)),G=k(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(O,Object.assign({view:"details"},this.props)),i.a.createElement(Z,Object.assign({},this.props,{paintingId:this.props.match.params.paintingId})))}}]),t}(n.Component)),Q=(a(101),k(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.painting;return i.a.createElement("div",{className:"edit-painting-div"},e?i.a.createElement("div",null,i.a.createElement("h1",null,"Edit"),i.a.createElement("p",{id:"error-message",className:"hidden"},"Error mesage"),(e.image.includes("sketchfab.com"),i.a.createElement(P,{view:"edit",src:e.image})),i.a.createElement("form",{onSubmit:this.props.handleSubmit,className:"edit-form"},i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("label",{htmlFor:"title"},"Title")),i.a.createElement("td",null,i.a.createElement("input",{className:"edit-input",onChange:this.props.handleChange,type:"text",name:"title",placeholder:"title",value:e.title,required:!0}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("label",{htmlFor:"description"},"Description")),i.a.createElement("td",null,i.a.createElement("textarea",{id:"edit-description",className:"edit-input",onChange:this.props.handleChange,type:"text",name:"description",value:e.description,placeholder:"description"}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("label",{htmlFor:""},"Tags")),i.a.createElement("td",null,i.a.createElement("input",{className:"edit-input",onChange:this.props.handleChange,type:"text",name:"tags",value:e.tags.join(" "),placeholder:"tags"}))))),i.a.createElement("button",{className:"yellowbutton edit-btn"},"Update"))):null)}}]),t}(n.Component))),V=(a(102),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){var e,t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.props.match.params.userId,n.next=3,m.a.awrap(x.getUserChatRooms(e));case 3:t=n.sent,a.setState({chats:t}),t.forEach((function(n,i){var r,s;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if((r=a.getOtherUser(n.roomId,e)).split("").length!==e.split("").length){c.next=9;break}return c.next=4,m.a.awrap(x.getUser(r));case 4:s=c.sent,console.log(s),a.setState(Object(A.a)({},s._id,{image:s.image,username:s.username})),c.next=11;break;case 9:console.log(a.getOtherUser(n.roomId,e),">>>>",a.props.userId),t.splice(i,1);case 11:case"end":return c.stop()}}))}));case 6:case"end":return n.stop()}}))},a.timeSince=function(e){var t=Math.floor((new Date-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" years":(a=Math.floor(t/2592e3))>1?a+" months":(a=Math.floor(t/86400))>1?a+" days":(a=Math.floor(t/3600))>1?a+" h":(a=Math.floor(t/60))>1?a+" min":Math.floor(t)+" s"},a.state={chats:null},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"getOtherUser",value:function(e,t){var a=e.split(t).join("");return a.length===t.length?a:a.split(t).join("")}},{key:"IMessedUp",value:function(e,t){var a=new RegExp(t,"g");return!((e.match(a)||[]).length>1)}},{key:"render",value:function(){var e=this,t=this.state.chats,a=this.props.match.params.userId;return i.a.createElement("div",null,i.a.createElement("h1",{style:{margin:"4vh 0"}},"Your chats"),t&&t.length?t.map((function(t){return i.a.createElement("span",{key:S.a.generate()},e.IMessedUp(t.roomId,a)?i.a.createElement("div",null,i.a.createElement("div",{className:"chats-chat-item"},e.state[e.getOtherUser(t.roomId,a)]?i.a.createElement(c.b,{to:"/profile/".concat(e.getOtherUser(t.roomId,a))},i.a.createElement("img",{src:e.state[e.getOtherUser(t.roomId,a)].image,alt:"",className:"chats-user-img"}),i.a.createElement("p",{id:"chats-chat-username"},e.state[e.getOtherUser(t.roomId,a)].username)):null,i.a.createElement("div",{className:"chats-info-div"},i.a.createElement(c.b,{to:"/chat/".concat(a,"/").concat(e.getOtherUser(t.roomId,a)),style:{color:"black"}},i.a.createElement("p",{className:"chats-comment-title"},"Last message:"),i.a.createElement("div",null,t.comments.length?i.a.createElement("div",{className:"chats-last-msg-and-time"},i.a.createElement("p",{className:"chats-comment-text"},t.comments[t.comments.length-1].commentText)):i.a.createElement("p",null,"Write your first comment!"),t.comments[t.comments.length-1]?i.a.createElement("p",{className:"chats-time-ago"},e.timeSince(Date.parse(t.comments[t.comments.length-1].created_at))):null))))):null)})):null)}}]),t}(n.Component)),R=k(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){var e,t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.props.match.params.paintingId,n.next=3,m.a.awrap(L.getDetails(e));case 3:t=n.sent,a.setState({paintingDetails:t,newPainting:t});case 5:case"end":return n.stop()}}))},a.state={paintingDetails:null,newPainting:null},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user;return i.a.createElement("div",null,i.a.createElement(O,this.props),i.a.createElement(V,Object.assign({},this.props,{user:e})))}}]),t}(n.Component)),X=a(43),K=a(11),$=(a(103),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={title:"",description:"",image:"",tags:[]},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"add-painting-form"},i.a.createElement("h1",null,"Add a new painting"),i.a.createElement("p",{id:"error-message",className:"hidden"},"Error mesage"),i.a.createElement("form",{onSubmit:this.props.handleSubmit,className:"add-form"},i.a.createElement("input",{className:"add-input",onChange:this.props.handleChange,type:"text",name:"title",placeholder:"Title",required:!0}),i.a.createElement("textarea",{className:"add-description",onChange:this.props.handleChange,type:"text",name:"description",placeholder:"Description"}),i.a.createElement("input",{type:"file",name:"image",onChange:function(t){return e.props.fileChange(t)},id:"file"}),i.a.createElement("label",{for:"file",className:"btn-3"},i.a.createElement("span",null,"Upload")),i.a.createElement("span",null,"or"),i.a.createElement("input",{onChange:this.props.handleChange,id:"signup-img-link",className:"signup-input",name:"image",placeholder:"Link an image (Sketchfab OK)"}),i.a.createElement("div",{id:"add-tags-display"},this.props.tags.length?this.props.tags.map((function(t){return i.a.createElement(Y,{view:"add-form",key:S.a.generate(),deleteTag:function(){return e.props.deleteTag(t)},text:t})})):null),i.a.createElement("input",{className:"add-input add-tags-fake",onChange:this.props.addTagValue,type:"text",name:"tags",placeholder:"Tags (separated with spaces)"}),i.a.createElement("select",{id:"select",size:"1",name:"game",onChange:this.props.handleSelectChange,className:"browser-default  custom-select-lg mb-3 select"},i.a.createElement("option",null,"Warhammer 40k"),i.a.createElement("option",null,"Warhammer Fantasy"),i.a.createElement("option",null,"Legends of the Old West")),i.a.createElement("button",{className:"yellowbutton add-btn"},"Submit")))}}]),t}(n.Component)),ee=k(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).handleSubmit=function(e){var t,n;return m.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.preventDefault(),!(a.state.newPainting.title.split("").length<17)){i.next=8;break}return i.next=4,m.a.awrap(L.postPainting({title:a.state.newPainting.title,description:a.state.newPainting.description,image:a.state.newPainting.image,tags:a.state.newPainting.tags,creator:a.props.user._id,creatorUsername:a.props.user.username,game:a.state.newPainting.game}));case 4:(t=i.sent)&&a.props.history.push("/painting/".concat(t._id)),i.next=11;break;case 8:(n=document.querySelector("#error-message")).innerHTML="Title must not be longer than 16 characters",n.classList.remove("hidden");case 11:case"end":return i.stop()}}))},a.handleChange=function(e){var t=e.target,n=t.name,i=t.value;console.log(n,i);var r=Object(K.a)({},a.state.newPainting);r[n]=i,a.setState({newPainting:r})},a.handleSelectChange=function(e){var t=(e=document.getElementById("select")).options[e.selectedIndex].value,n=Object(K.a)({},a.state.newPainting);n.game=t,a.setState({newPainting:n})},a.fileChange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),L.imageUpload(n).then((function(e){var t=Object(K.a)({},a.state.newPainting);t.image=e,a.setState({newPainting:t}),a.setState({image:e})})).catch((function(e){return console.log(e)}))},a.addTagValue=function(e){var t=e.target,n=t.value,i=n.split(""),r=i[i.length-1];if(" "!==i[0]){if(" "===r){if((n=n.split("")).pop(),n=n.join(""),-1!==a.state.newPainting.tags.indexOf(n))return void(t.value="");var s=[].concat(Object(X.a)(a.state.newPainting.tags),[n]),c=Object(K.a)({},a.state.newPainting);c.tags=s,a.setState({newPainting:c}),t.value=""}}else t.value=""},a.deleteTag=function(e){var t=a.state.newPainting.tags;if(-1!==t.indexOf(e)){t.splice(t.indexOf(e),1);var n=Object(K.a)({},a.state.newPainting);n.tags=t,a.setState({newPainting:n})}},a.state={newPainting:{title:"",description:"",image:"",tags:[],game:"Warhammer 40k"}},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(O,this.props),i.a.createElement($,{handleChange:this.handleChange,handleSelectChange:this.handleSelectChange,handleSubmit:this.handleSubmit,deleteTag:this.deleteTag,fileChange:this.fileChange,tags:this.state.newPainting.tags,addTagValue:this.addTagValue,user:this.props.user}))}}]),t}(i.a.Component)),te=k(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){var e,t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.props.match.params.paintingId,n.next=3,m.a.awrap(L.getDetails(e));case 3:t=n.sent,a.setState({paintingDetails:t,newPainting:t});case 5:case"end":return n.stop()}}))},a.handleChange=function(e){var t=e.target,n=t.name,i=t.value,r=Object(K.a)({},a.state.newPainting);console.log(),"tags"!==n?r[n]=i:(console.log("HERE: ",i.split(" ")),r[n]=i.split(" ")),a.setState({newPainting:r}),console.log(a.state.newPainting)},a.handleSubmit=function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,m.a.awrap(L.updatePaintingByPut(a.state.newPainting));case 3:t.sent.title&&a.props.history.push("/painting/".concat(a.props.match.params.paintingId));case 5:case"end":return t.stop()}}))},a.state={paintingDetails:null,newPainting:null},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(O,this.props),i.a.createElement(Q,{painting:this.state.newPainting,handleChange:this.handleChange,handleSubmit:this.handleSubmit}))}}]),t}(n.Component)),ae=new(function(){function e(){Object(u.a)(this,e),this.chat=b.a.create({baseURL:"http://localhost:5000",withCredentials:!0})}return Object(p.a)(e,[{key:"getChatData",value:function(e){var t=e.creatorId,a=e.userId;return this.chat.get("/chat/".concat(t,"/").concat(a)).then((function(e){return e.data}))}},{key:"postComment",value:function(e){var t=e.userId,a=e.creatorId,n=e.newCommentData;return this.chat.post("/chat/comment/".concat(a,"/").concat(t),n).then((function(e){return e}))}}]),e}()),ne=(a(104),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user;return i.a.createElement("div",{className:"chat"},this.props.chat&&e?this.props.chat.a.comments.map((function(t){return i.a.createElement("div",{key:S.a.generate()},t.creatorId===e._id?i.a.createElement("div",{className:"my-chat-comment-wrapper"},i.a.createElement("div",{className:"talktext"},i.a.createElement("p",{className:"my-chat-comment"},t.commentText))):i.a.createElement("div",{key:S.a.generate(),className:"other-chat-comment-wrapper"},i.a.createElement("div",{className:"talktext"},i.a.createElement("p",{className:"other-user-chat-comment"},t.commentText))))})):null)}}]),t}(n.Component)),ie=(a(105),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,i=t.value,r=Object(K.a)({},a.state.newComment);r[n]=i,a.setState({newComment:r})},a.preventDefaultAndSendComment=function(e){e.preventDefault(),a.props.sendComment(a.state.newComment);var t=Object(K.a)({},a.state.newComment);t.commentText="",a.setState({newComment:t})},a.showSecondChatForm=function(){console.log("HI")},a.sendMap=function(){console.log("map sent")},a.state={newComment:{creatorUsername:a.props.user.username,creatorId:a.props.user._id,commentText:"",commentImage:""}},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("form",{onSubmit:function(t){return e.preventDefaultAndSendComment(t)},className:"chatform"},i.a.createElement("input",{type:"text",name:"commentText",onChange:this.handleChange,value:this.state.newComment.commentText}),i.a.createElement("input",{type:"submit",value:"Send",className:"yellowbutton chat-send-btn"}))}}]),t}(n.Component)),re=k(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,m.a.awrap(ae.getChatData(a.props.match.params));case 3:e.t1=e.sent,e.t2={chatData:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}))},a.sendComment=function(e){var t,n;return m.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(t=Object(K.a)({},a.props.match.params)).newCommentData=e,i.next=4,m.a.awrap(ae.postComment(t));case 4:return i.next=6,m.a.awrap(ae.getChatData(a.props.match.params));case 6:n=i.sent,a.setState({chatData:n});case 8:case"end":return i.stop()}}))},a.state={chatData:null},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user;return i.a.createElement("div",null,i.a.createElement(O,this.props),i.a.createElement(ne,{chat:this.state.chatData,user:e}),e?i.a.createElement(ie,{sendComment:this.sendComment,user:e}):null)}}]),t}(n.Component)),se=a(42);var ce=k((function(e){var t=e.component,a=e.isLoggedIn,n=e.isLoading,r=Object(se.a)(e,["component","isLoggedIn","isLoading"]);return n?i.a.createElement("h1",null,"Loading"):i.a.createElement(l.b,Object.assign({},r,{render:function(e){return a?i.a.createElement(l.a,{to:"/"}):i.a.createElement(t,e)}}))}));var le=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(c.a,null,i.a.createElement(l.d,null,i.a.createElement(l.b,{exact:!0,path:"/",component:U}),i.a.createElement(ce,{exact:!0,path:"/login",component:F}),i.a.createElement(ce,{exact:!0,path:"/signup",component:H}),i.a.createElement(l.b,{exact:!0,path:"/profile",component:z}),i.a.createElement(l.b,{exact:!0,path:"/chats/:userId",component:R}),i.a.createElement(l.b,{exact:!0,path:"/profile/:userId",component:z}),i.a.createElement(l.b,{exact:!0,path:"/painting/edit/:paintingId",component:te}),i.a.createElement(l.b,{exact:!0,path:"/painting/:paintingId",component:G}),i.a.createElement(l.b,{exact:!0,path:"/paintings/add",component:ee}),i.a.createElement(l.b,{exact:!0,path:"/chat/:creatorId/:userId",component:re}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(j,null,i.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},19:function(e,t){e.exports=["https://images.squarespace-cdn.com/content/v1/55cea49ae4b0a784cab03f77/1493528125724-FS2BZ6AOE4A39CAKJHSZ/ke17ZwdGBToddI8pDm48kBX56OvUjnnwp9dh6uLtUcN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UZQJM2xIC9Zx_GPKsn97UDyXuQA4C7fSNU0rc6-C0hb7W07ycm2Trb21kYhaLJjddA/Pr2_Firewarrior_SculptRender_08_crop.png?format=2500w","https://us.v-cdn.net/6025735/uploads/editor/o9/gdnv2qo2wyc9.jpg","https://spikeybits.com/wp-content/uploads/2015/03/necron-walpaper1-e1471272028449.jpg","https://spikeybits.com/wp-content/uploads/2018/03/necrons-hor-wal.jpg","https://vignette.wikia.nocookie.net/warhammer40k/images/1/16/Triarch_Praetorians.png/revision/latest/scale-to-width-down/250?cb=20150202202820","https://vignette.wikia.nocookie.net/warhammer40k/images/3/37/Necron_Lych_Guard.png/revision/latest/scale-to-width-down/250?cb=20150202202238","https://vignette.wikia.nocookie.net/warhammer40k/images/f/f9/Tyranid.gif/revision/latest/scale-to-width-down/250?cb=20100601100308","https://vignette.wikia.nocookie.net/warhammer40k/images/5/57/Tyrant.JPG/revision/latest/scale-to-width-down/250?cb=20080610113817","https://vignette.wikia.nocookie.net/warhammer40k/images/b/b5/Warhammer_40k_ripper_swarm_by_nanya-d46p2pb.jpg/revision/latest/scale-to-width-down/250?cb=20111006142436","https://www.frontlinegaming.org/wp-content/uploads/2016/12/tyranid_tervigon_artwork_by_zergwing-d780019-217x300.jpg","https://scontent-mad1-1.xx.fbcdn.net/v/t1.0-1/10931514_763629133724175_5553438455775206202_n.jpg?_nc_cat=107&_nc_ohc=dvkLvyZ8hL8AQl8EKHpHVMqZy9RrklJJijqJR1TK9Z7OOMxFkNLX1e1WQ&_nc_ht=scontent-mad1-1.xx&oh=6371bc452d97f81eda5f911e35429bfc&oe=5E89D39B","https://vignette.wikia.nocookie.net/warhammerfb/images/9/93/Warhammer_Dark_Elf_Symbol.png/revision/latest/scale-to-width-down/250?cb=20170324005119","https://vignette.wikia.nocookie.net/warhammerfb/images/2/26/Warhammer_Aenarion.png/revision/latest/scale-to-width-down/250?cb=20161029054605","https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/For_the_love_of_waaagh_by_grundalug.jpg/220px-For_the_love_of_waaagh_by_grundalug.jpg","https://vignette.wikia.nocookie.net/warhammer-40k-regicide/images/d/de/Lib_sm_t1qn.png/revision/latest?cb=20150721061006","https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/cb316223-8f75-4ab0-830c-6b4af6872c22/dbna7q7-61261880-b167-4e9d-bc1d-89ae87177890.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2NiMzE2MjIzLThmNzUtNGFiMC04MzBjLTZiNGFmNjg3MmMyMlwvZGJuYTdxNy02MTI2MTg4MC1iMTY3LTRlOWQtYmMxZC04OWFlODcxNzc4OTAuanBnIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.uX4NVeyIDP5xJhXeEQ0KaFwV4hiYikANvrQ_RbTQ9vs","https://preview.redd.it/sv49tdht3ds11.jpg?width=768&auto=webp&s=83ce6a1b99746d62e26212e1d5e25d70adb10ce9","https://i.pinimg.com/564x/0c/e4/91/0ce491ecf9684f64e49436689e969e43.jpg","https://i.pinimg.com/564x/42/6b/18/426b181df40f7da0046007250aa08337.jpg","https://i.pinimg.com/564x/a8/47/a4/a847a4bc6d4085a7bc7137049399682d.jpg","https://i.pinimg.com/564x/a8/ac/4e/a8ac4e780e1e10ef63c8170cc77cfa91.jpg","https://i.pinimg.com/564x/c8/44/3c/c8443c350a0fa207e56608d7e29ba88a.jpg","https://i.pinimg.com/originals/78/8f/01/788f01cd3b6f12e579e261e753b04a42.jpg","https://i.pinimg.com/564x/4d/b0/24/4db024cc9a08743d713d2f18869f0cbc.jpg","https://i.pinimg.com/564x/e7/45/8b/e7458bd5c12a259ec25a38f85cd961fa.jpg","https://i.pinimg.com/564x/c3/4b/e1/c34be151f30f8846b61fdce0845b218e.jpg","https://i.pinimg.com/564x/b8/2a/74/b82a7472bf8d04f4e060dde71e8449b5.jpg","https://i.pinimg.com/564x/e9/fb/de/e9fbde75eb24431341f06d4fe70ad3b3.jpg","https://i.pinimg.com/564x/67/91/67/6791675473dfc08463daa60ef22ca72d.jpg","https://i.pinimg.com/564x/4d/b0/24/4db024cc9a08743d713d2f18869f0cbc.jpg","https://i.pinimg.com/564x/ad/0f/f1/ad0ff1cd210f02e3020ad307e7d4b70f.jpg","https://i.pinimg.com/564x/d7/29/14/d729140681bfa9faa2a43768eaa3c897.jpg","https://i.pinimg.com/564x/a1/2a/a8/a12aa8fb31279840191eacb0512aef6a.jpg","https://i.pinimg.com/564x/85/b8/b1/85b8b1ece7fcbd870c6b7163fc02018e.jpg","https://i.pinimg.com/564x/df/0c/09/df0c09967d74c081e14adcd8667fa2f9.jpg","https://i.pinimg.com/564x/9a/72/8f/9a728f08e4179712b342167d20364a99.jpg","https://i.pinimg.com/564x/19/26/1f/19261f46683c09b9bd6404dd3fe67cf9.jpg","https://i.pinimg.com/564x/ed/0b/72/ed0b726cdc3c83b54251aa55e2bbe861.jpg","https://i.pinimg.com/564x/11/22/d9/1122d9b0198d9eecaad84bf5b6ca3d66.jpg","https://i.pinimg.com/564x/80/01/28/80012896a137b0e4cd1c6058ca39496d.jpg","https://i.pinimg.com/564x/b0/63/d7/b063d7022d71973b43c9464759641224.jpg","https://i.pinimg.com/564x/9a/72/8f/9a728f08e4179712b342167d20364a99.jpg","https://i.pinimg.com/564x/11/22/d9/1122d9b0198d9eecaad84bf5b6ca3d66.jpg","https://i.pinimg.com/564x/e3/a9/2e/e3a92e964371d63fb452fe1a8d42e183.jpg","https://i.pinimg.com/564x/23/a2/d6/23a2d606d07de55c8838f6ec4bd5a14d.jpg"]},44:function(e,t,a){e.exports=a(106)},49:function(e,t,a){},50:function(e,t,a){},64:function(e,t,a){},82:function(e,t,a){},87:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[44,1,2]]]);
//# sourceMappingURL=main.54b3e9c0.chunk.js.map